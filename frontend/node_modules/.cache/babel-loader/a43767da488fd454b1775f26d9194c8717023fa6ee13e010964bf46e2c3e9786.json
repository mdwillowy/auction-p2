{"ast":null,"code":"var _jsxFileName = \"/Users/mdwillowy/Desktop/Coding/auction-P2/frontend/src/components/BidForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BidForm({\n  itemId,\n  currentBid,\n  endTime,\n  bidHistory\n}) {\n  _s();\n  const [bidAmount, setBidAmount] = useState('');\n  const [error, setError] = useState('');\n  const [remainingTime, setRemainingTime] = useState('');\n\n  // Calculate and update remaining time\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const now = new Date();\n      const end = new Date(endTime);\n      const timeLeft = end - now;\n      if (timeLeft <= 0) {\n        clearInterval(timer);\n        setRemainingTime('Auction ended');\n      } else {\n        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n        const hours = Math.floor(timeLeft % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n        const minutes = Math.floor(timeLeft % (1000 * 60 * 60) / (1000 * 60));\n        const seconds = Math.floor(timeLeft % (1000 * 60) / 1000);\n        setRemainingTime(`${days > 0 ? `${days}d ` : ''}${hours}h ${minutes}m ${seconds}s`);\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [endTime]);\n  const handleBidSubmit = async e => {\n    e.preventDefault();\n    const bidValue = parseFloat(bidAmount);\n    if (isNaN(bidValue)) {\n      setError('Please enter a valid bid amount');\n      return;\n    }\n    if (bidValue <= currentBid) {\n      setError(`Bid must be higher than $${currentBid}`);\n      return;\n    }\n    try {\n      const response = await api.placeBid(itemId, {\n        amount: bidValue\n      });\n      if (response.data) {\n        alert(`Bid of $${bidValue} placed successfully!`);\n        setBidAmount('');\n        setError('');\n        onBidSuccess({\n          amount: bidValue,\n          bidder: response.data.bidder\n        });\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error placing bid:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Failed to place bid. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-4 p-4 border rounded\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold\",\n        children: \"Time Remaining:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg\",\n        children: remainingTime\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleBidSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 mb-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: bidAmount,\n          onChange: e => setBidAmount(e.target.value),\n          placeholder: `Enter bid (min $${currentBid + 1})`,\n          className: \"border p-2 rounded flex-grow\",\n          min: currentBid + 1,\n          step: \"0.01\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded ml-2\",\n          children: \"Place Bid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), (bidHistory === null || bidHistory === void 0 ? void 0 : bidHistory.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold mb-2\",\n        children: \"Bid History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-1\",\n        children: bidHistory.map((bid, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", bid.amount.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 text-sm\",\n            children: new Date(bid.timestamp).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(BidForm, \"2+B/uphpZiy9Daox9PRypSrdVvY=\");\n_c = BidForm;\nexport default BidForm;\nvar _c;\n$RefreshReg$(_c, \"BidForm\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","BidForm","itemId","currentBid","endTime","bidHistory","_s","bidAmount","setBidAmount","error","setError","remainingTime","setRemainingTime","timer","setInterval","now","Date","end","timeLeft","clearInterval","days","Math","floor","hours","minutes","seconds","handleBidSubmit","e","preventDefault","bidValue","parseFloat","isNaN","response","placeBid","amount","data","alert","onBidSuccess","bidder","err","_err$response","_err$response$data","console","msg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","min","step","required","length","map","bid","index","toFixed","timestamp","toLocaleString","_c","$RefreshReg$"],"sources":["/Users/mdwillowy/Desktop/Coding/auction-P2/frontend/src/components/BidForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\n\nfunction BidForm({ itemId, currentBid, endTime, bidHistory }) {\n  const [bidAmount, setBidAmount] = useState('');\n  const [error, setError] = useState('');\n  const [remainingTime, setRemainingTime] = useState('');\n\n  // Calculate and update remaining time\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const now = new Date();\n      const end = new Date(endTime);\n      const timeLeft = end - now;\n\n      if (timeLeft <= 0) {\n        clearInterval(timer);\n        setRemainingTime('Auction ended');\n      } else {\n        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);\n        \n        setRemainingTime(\n          `${days > 0 ? `${days}d ` : ''}${hours}h ${minutes}m ${seconds}s`\n        );\n      }\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [endTime]);\n\n  const handleBidSubmit = async (e) => {\n    e.preventDefault();\n    const bidValue = parseFloat(bidAmount);\n    \n    if (isNaN(bidValue)) {\n      setError('Please enter a valid bid amount');\n      return;\n    }\n\n    if (bidValue <= currentBid) {\n      setError(`Bid must be higher than $${currentBid}`);\n      return;\n    }\n\n    try {\n      const response = await api.placeBid(itemId, { amount: bidValue });\n      if (response.data) {\n        alert(`Bid of $${bidValue} placed successfully!`);\n        setBidAmount('');\n        setError('');\n        onBidSuccess({\n          amount: bidValue,\n          bidder: response.data.bidder\n        });\n      }\n    } catch (err) {\n      console.error('Error placing bid:', err);\n      setError(err.response?.data?.msg || 'Failed to place bid. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"mt-4 p-4 border rounded\">\n      <div className=\"mb-4\">\n        <h3 className=\"font-bold\">Time Remaining:</h3>\n        <p className=\"text-lg\">{remainingTime}</p>\n      </div>\n\n      <form onSubmit={handleBidSubmit}>\n        {error && <p className=\"text-red-500 mb-2\">{error}</p>}\n        <div className=\"flex items-center\">\n          <input\n            type=\"number\"\n            value={bidAmount}\n            onChange={(e) => setBidAmount(e.target.value)}\n            placeholder={`Enter bid (min $${currentBid + 1})`}\n            className=\"border p-2 rounded flex-grow\"\n            min={currentBid + 1}\n            step=\"0.01\"\n            required\n          />\n          <button \n            type=\"submit\" \n            className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded ml-2\"\n          >\n            Place Bid\n          </button>\n        </div>\n      </form>\n\n      {bidHistory?.length > 0 && (\n        <div className=\"mt-6\">\n          <h3 className=\"font-bold mb-2\">Bid History</h3>\n          <ul className=\"space-y-1\">\n            {bidHistory.map((bid, index) => (\n              <li key={index} className=\"flex justify-between\">\n                <span>${bid.amount.toFixed(2)}</span>\n                <span className=\"text-gray-500 text-sm\">\n                  {new Date(bid.timestamp).toLocaleString()}\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default BidForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}