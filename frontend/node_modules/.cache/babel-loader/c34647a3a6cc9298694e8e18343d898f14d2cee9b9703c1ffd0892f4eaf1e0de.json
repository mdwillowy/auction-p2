{"ast":null,"code":"var _jsxFileName = \"/Users/mdwillowy/Desktop/Coding/auction-P2/frontend/src/components/BidForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BidForm({\n  itemId,\n  currentBid,\n  endTime,\n  bidHistory\n}) {\n  _s();\n  const [bidAmount, setBidAmount] = useState('');\n  const [error, setError] = useState('');\n  const [remainingTime, setRemainingTime] = useState('');\n\n  // Calculate and update remaining time\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const now = new Date();\n      const end = new Date(endTime);\n      const timeLeft = end - now;\n      if (timeLeft <= 0) {\n        clearInterval(timer);\n        setRemainingTime('Auction ended');\n      } else {\n        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n        const hours = Math.floor(timeLeft % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n        const minutes = Math.floor(timeLeft % (1000 * 60 * 60) / (1000 * 60));\n        const seconds = Math.floor(timeLeft % (1000 * 60) / 1000);\n        setRemainingTime(`${days > 0 ? `${days}d ` : ''}${hours}h ${minutes}m ${seconds}s`);\n      }\n    }, 1000);\n    return () => clearInterval(timer);\n  }, [endTime]);\n  const handleBidSubmit = async e => {\n    e.preventDefault();\n    if (parseFloat(bidAmount) <= currentBid) {\n      setError('Bid must be higher than the current bid');\n      return;\n    }\n    try {\n      await api.placeBid(itemId, bidAmount);\n      alert('Bid placed successfully!');\n      setBidAmount('');\n      setError('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Error placing bid:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Failed to place bid');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-4 p-4 border rounded\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold\",\n        children: \"Time Remaining:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg\",\n        children: remainingTime\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleBidSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 mb-2\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: bidAmount,\n          onChange: e => setBidAmount(e.target.value),\n          placeholder: `Enter bid (min $${currentBid + 1})`,\n          className: \"border p-2 rounded flex-grow\",\n          min: currentBid + 1,\n          step: \"0.01\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded ml-2\",\n          children: \"Place Bid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), (bidHistory === null || bidHistory === void 0 ? void 0 : bidHistory.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold mb-2\",\n        children: \"Bid History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"space-y-1\",\n        children: bidHistory.map((bid, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", bid.amount.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-500 text-sm\",\n            children: new Date(bid.timestamp).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(BidForm, \"2+B/uphpZiy9Daox9PRypSrdVvY=\");\n_c = BidForm;\nexport default BidForm;\nvar _c;\n$RefreshReg$(_c, \"BidForm\");","map":{"version":3,"names":["React","useState","useEffect","api","jsxDEV","_jsxDEV","BidForm","itemId","currentBid","endTime","bidHistory","_s","bidAmount","setBidAmount","error","setError","remainingTime","setRemainingTime","timer","setInterval","now","Date","end","timeLeft","clearInterval","days","Math","floor","hours","minutes","seconds","handleBidSubmit","e","preventDefault","parseFloat","placeBid","alert","err","_err$response","_err$response$data","console","response","data","msg","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","min","step","required","length","map","bid","index","amount","toFixed","timestamp","toLocaleString","_c","$RefreshReg$"],"sources":["/Users/mdwillowy/Desktop/Coding/auction-P2/frontend/src/components/BidForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\n\nfunction BidForm({ itemId, currentBid, endTime, bidHistory }) {\n  const [bidAmount, setBidAmount] = useState('');\n  const [error, setError] = useState('');\n  const [remainingTime, setRemainingTime] = useState('');\n\n  // Calculate and update remaining time\n  useEffect(() => {\n    const timer = setInterval(() => {\n      const now = new Date();\n      const end = new Date(endTime);\n      const timeLeft = end - now;\n\n      if (timeLeft <= 0) {\n        clearInterval(timer);\n        setRemainingTime('Auction ended');\n      } else {\n        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);\n        \n        setRemainingTime(\n          `${days > 0 ? `${days}d ` : ''}${hours}h ${minutes}m ${seconds}s`\n        );\n      }\n    }, 1000);\n\n    return () => clearInterval(timer);\n  }, [endTime]);\n\n  const handleBidSubmit = async (e) => {\n    e.preventDefault();\n    if (parseFloat(bidAmount) <= currentBid) {\n      setError('Bid must be higher than the current bid');\n      return;\n    }\n\n    try {\n      await api.placeBid(itemId, bidAmount);\n      alert('Bid placed successfully!');\n      setBidAmount('');\n      setError('');\n    } catch (err) {\n      console.error('Error placing bid:', err);\n      setError(err.response?.data?.msg || 'Failed to place bid');\n    }\n  };\n\n  return (\n    <div className=\"mt-4 p-4 border rounded\">\n      <div className=\"mb-4\">\n        <h3 className=\"font-bold\">Time Remaining:</h3>\n        <p className=\"text-lg\">{remainingTime}</p>\n      </div>\n\n      <form onSubmit={handleBidSubmit}>\n        {error && <p className=\"text-red-500 mb-2\">{error}</p>}\n        <div className=\"flex items-center\">\n          <input\n            type=\"number\"\n            value={bidAmount}\n            onChange={(e) => setBidAmount(e.target.value)}\n            placeholder={`Enter bid (min $${currentBid + 1})`}\n            className=\"border p-2 rounded flex-grow\"\n            min={currentBid + 1}\n            step=\"0.01\"\n            required\n          />\n          <button \n            type=\"submit\" \n            className=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded ml-2\"\n          >\n            Place Bid\n          </button>\n        </div>\n      </form>\n\n      {bidHistory?.length > 0 && (\n        <div className=\"mt-6\">\n          <h3 className=\"font-bold mb-2\">Bid History</h3>\n          <ul className=\"space-y-1\">\n            {bidHistory.map((bid, index) => (\n              <li key={index} className=\"flex justify-between\">\n                <span>${bid.amount.toFixed(2)}</span>\n                <span className=\"text-gray-500 text-sm\">\n                  {new Date(bid.timestamp).toLocaleString()}\n                </span>\n              </li>\n            ))}\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default BidForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}